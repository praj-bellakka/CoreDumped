(this.webpackJsonpweb1=this.webpackJsonpweb1||[]).push([[0],{235:function(e,t,a){},236:function(e,t,a){},447:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(14),i=a.n(s),c=(a(235),a(112)),r=a(204),l=a(205),d=a(222),j=a(220),b=(a(236),a(72)),p=a(111),m=a.n(p),u=a(482),h=a(208),x=a.n(h),g=a(143);g.a.initializeApp({apiKey:"AIzaSyDP6-Aspk6si6MxQEDzmx8Zt-qxw2I1Dzg",authDomain:"mapception-c014b.firebaseapp.com",databaseURL:"https://mapception-c014b-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"mapception-c014b",storageBucket:"mapception-c014b.appspot.com",messagingSenderId:"44291013706",appId:"1:44291013706:web:a159cd16d0620f2bb6fab3"});var O=g.a,f=a(479),v=a(483),y=a(484),I=a(481),L=a(215),P=a.n(L),S=a(216),k=a.n(S),w=a(214),C=a.n(w),A=a(218),N=a.n(A),z=a(217),D=a.n(z),U=a(219),M=a.n(U),E=a(477),_=a(4),B=Object(E.a)((function(e){return{root:{"& .MuiTextField-root":{color:"white",backgroundColour:e.palette.common.white}}}})),F="AIzaSyBsPi3wA_-SZVURg6_iBq8zz5mxW5UcHNo",R=0,T=[],W="",Z=[],q="",G="",K="",H=!1,J="",V="";m.a.setApiKey(F);var Q=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={address:"",condensedAddress:"",coordinates:[],placeId:"",zoom:12,height:400,mapPosition:{lat:0,lng:0},markerPosition:{lat:0,lng:0}},e.onMarkerDragEnd=function(t){var a=t.latLng.lat(),n=t.latLng.lng();m.a.fromLatLng(a,n).then((function(t){console.log("response",t);var a=t.results[0].formatted_address,n=t.results[0].place_id,o=t.results[0].geometry.location.lat,s=t.results[0].geometry.location.lng,i=[o,s];W=a,Z=i,q=n,e.setState({address:a||"",condensedAddress:a||"",coordinates:i||"",placeId:n||"",mapPosition:{lat:o,lng:s},markerPosition:{lat:o,lng:s}})}))},e.onPlaceSelected=function(t){console.log("place",t);var a=t.formatted_address,n=t.place_id,o=t.geometry.location.lat(),s=t.geometry.location.lng(),i=[o,s];W=a,Z=i,q=n,e.setState({address:a||"",condensedAddress:a||"",coordinates:i||"",placeId:n||"",mapPosition:{lat:o,lng:s},markerPosition:{lat:o,lng:s}})},e.clearLocations=function(){R=0,T=[]},e.uploadLocations=function(){var t=G;console.log("currentPath",t);var a=R;if(t){var n=O.database().ref(t),o={information:V,mapList:T,nameOfUser:J,numberOfLocations:a};n.push(o),e.clearLocations(),console.log("uploaded")}else console.log("invalid path")},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){console.log("position",navigator.geolocation),e.setState({mapPosition:{lat:t.coords.latitude,lng:t.coords.longitude},markerPosition:{lat:t.coords.latitude,lng:t.coords.longitude}},(function(){m.a.fromLatLng(t.coords.latitude,t.coords.longitude).then((function(t){console.log("response",t);var a=t.results[0].formatted_address,n=t.results[0].place_id,o=[t.results[0].geometry.location.lat,t.results[0].geometry.location.lng];W=a,Z=o,q=n,e.setState({address:a||"",condensedAddress:a||"",coordinates:o||"",placeId:n||""})}),(function(e){console.error(e)}))}))})):console.error("Geolocation is not supported by this browser!")}},{key:"addLocation",value:function(){var e={address:W,condensedName:W,coordinates:Z,placeId:q};T[R]=e,R+=1,console.log(R)}},{key:"render",value:function(){var e=this,t=Object(b.withScriptjs)(Object(b.withGoogleMap)((function(t){return Object(_.jsxs)(b.GoogleMap,{defaultZoom:11,defaultCenter:{lat:e.state.mapPosition.lat,lng:e.state.mapPosition.lng},className:"map",style:{width:"80%"},children:[Object(_.jsx)(b.Marker,{draggable:!0,onDragEnd:e.onMarkerDragEnd,position:{lat:e.state.markerPosition.lat,lng:e.state.mapPosition.lng},children:Object(_.jsx)(b.InfoWindow,{children:Object(_.jsx)("div",{children:e.state.address})})}),Object(_.jsx)(x.a,{apiKey:F,style:{width:"100%",height:"40px",paddindLeft:16,marginTop:2,marginBottom:"2rem"},onPlaceSelected:e.onPlaceSelected,options:{types:"address",componentRestrictions:{country:"sg"}}})]})})));return Object(_.jsx)("div",{children:Object(_.jsxs)(f.a,{container:!0,spacing:1,alignItems:"center",justifyContent:"center",className:"grid",children:[Object(_.jsx)(f.a,{item:!0,xs:12,children:Object(_.jsx)("h1",{className:"title-dashboard",children:"Welcome to MAPCEPTION's dashboard"})}),Object(_.jsx)(f.a,{item:!0,xs:12,children:Object(_.jsx)(v.a,{position:"relative",left:"5%",children:Object(_.jsx)("div",{className:"stepOne",children:"Step 1: Enter some informationrmation to start"})})}),Object(_.jsx)(f.a,{item:!0,xs:12,children:Object(_.jsx)(v.a,{position:"relative",left:"5%",children:Object(_.jsx)(X,{})})}),Object(_.jsx)(f.a,{item:!0,xs:12,children:Object(_.jsx)(v.a,{position:"relative",left:"5%",children:Object(_.jsx)(Y,{})})}),Object(_.jsx)(f.a,{item:!0,xs:12,children:Object(_.jsx)(v.a,{position:"relative",left:"5%",children:Object(_.jsx)($,{})})}),Object(_.jsx)(f.a,{item:!0,xs:12,children:Object(_.jsxs)(v.a,{position:"relative",left:"5%",children:[Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"stepOne",children:"Step 2: Add Locations"})]})}),Object(_.jsx)(f.a,{item:!0,xs:6,children:Object(_.jsxs)(v.a,{component:"span",position:"relative",left:"5%",background:"white",className:"box-map",children:[Object(_.jsx)(t,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBsPi3wA_-SZVURg6_iBq8zz5mxW5UcHNo&v=3.exp&libraries=geometry,drawing,places",loadingElement:Object(_.jsx)("div",{style:{height:"100%"}}),containerElement:Object(_.jsx)("div",{style:{height:"400px"}}),mapElement:Object(_.jsx)("div",{style:{height:"100%"}}),className:"map"}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{})]})}),Object(_.jsxs)(f.a,{item:!0,xs:6,alignItems:"center",children:[Object(_.jsxs)(v.a,{component:"span",position:"relative",right:"5%",children:[Object(_.jsx)("h3",{className:"title-current",children:"Current Location Information"}),Object(_.jsxs)(u.b,{bordered:!0,column:2,size:"small",className:"description-current",style:{width:"85vh "},children:[Object(_.jsx)(u.b.Item,{label:"Address",span:2,children:this.state.address}),Object(_.jsx)(u.b.Item,{label:"Latitude",children:this.state.coordinates[0]}),Object(_.jsx)(u.b.Item,{label:"Longtitude",children:this.state.coordinates[1]}),Object(_.jsx)(u.b.Item,{label:"Place ID",span:2,children:this.state.placeId})]})]}),Object(_.jsx)("br",{}),Object(_.jsx)(v.a,{position:"relative",left:"40%",top:"5%",children:Object(_.jsx)(y.a,{variant:"contained",startIcon:Object(_.jsx)(C.a,{}),onClick:this.addLocation,className:"button-add",children:"Add Location"})})]}),Object(_.jsx)(f.a,{item:!0,xs:12,children:Object(_.jsxs)(v.a,{position:"relative",left:"5%",children:[Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"stepOne",children:"Step 3: Upload to user"})]})}),Object(_.jsx)(f.a,{item:!0,xs:12,children:Object(_.jsxs)(v.a,{position:"relative",left:"50%",children:[Object(_.jsx)(y.a,{variant:"contained",startIcon:Object(_.jsx)(P.a,{}),onClick:this.uploadLocations,children:"Upload"}),Object(_.jsx)(y.a,{variant:"contained",startIcon:Object(_.jsx)(k.a,{}),onClick:this.clearLocations,children:"Clear All"})]})})]})})}}]),a}(o.a.Component);function X(){var e=B(),t=Object(n.useState)(""),a=Object(c.a)(t,2),o=a[0],s=a[1],i=function(e){e.preventDefault();G="sendData/".concat(K=o),console.log(G),s(""),ee(K)};return Object(_.jsx)("div",{children:Object(_.jsxs)("form",{onSubmit:i,className:e.root,children:[Object(_.jsx)(I.a,{variant:"outlined",label:"user id",onChange:function(e){s(e.target.value)},value:o,type:"text",size:"small"}),Object(_.jsx)(y.a,{variant:"contained",startIcon:Object(_.jsx)(D.a,{}),onClick:i,children:"Update user id"})]})})}function Y(){var e=B(),t=Object(n.useState)(""),a=Object(c.a)(t,2),o=a[0],s=a[1],i=function(e){e.preventDefault(),J=o,console.log(J),s("")};return Object(_.jsx)("div",{children:Object(_.jsxs)("form",{onSubmit:i,className:e.root,children:[Object(_.jsx)(I.a,{variant:"outlined",label:"name",onChange:function(e){s(e.target.value)},value:o,type:"text",size:"small"}),Object(_.jsx)(y.a,{variant:"contained",startIcon:Object(_.jsx)(N.a,{}),onClick:i,children:"Update name"})]})})}function $(){var e=B(),t=Object(n.useState)(""),a=Object(c.a)(t,2),o=a[0],s=a[1],i=function(e){e.preventDefault(),V=o,console.log(V),s("")};return Object(_.jsx)("div",{children:Object(_.jsxs)("form",{onSubmit:i,className:e.root,children:[Object(_.jsx)(I.a,{variant:"outlined",label:"information",onChange:function(e){s(e.target.value)},value:o,type:"text",size:"small"}),Object(_.jsx)(y.a,{variant:"contained",startIcon:Object(_.jsx)(M.a,{}),onClick:i,children:"Update Info"})]})})}var ee=function(e){if(""===e)return H=!1,void console.log(H);var t="Users/".concat(e);O.database().ref(t).once("value").then((function(e){H=e.exists(),console.log(H)}))},te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,487)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),o(e),s(e),i(e)}))};a(446);i.a.render(Object(_.jsx)(o.a.StrictMode,{children:Object(_.jsx)(Q,{})}),document.getElementById("root")),te()}},[[447,1,2]]]);
//# sourceMappingURL=main.8fef6a5d.chunk.js.map